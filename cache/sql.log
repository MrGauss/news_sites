2019.11.28 13:13:56:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 10;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:13:56:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 10 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 1;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 10 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 1;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 90 LIMIT 12;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:13:56:
--------------------------------
SELECT count( DISTINCT ua_hash ) as count FROM visit_counter WHERE date_trunc('day', ts) = date_trunc('day', now());
--------------------------------
2019.11.28 13:13:56:
--------------------------------

                SELECT
                    date_trunc('day', visit_counter.ts) as visit_day,
                    COUNT( DISTINCT visit_counter.ua_hash ) as count
                FROM
                    visit_counter
                WHERE
                    date_trunc('day', visit_counter.ts ) > date_trunc('day', NOW() - INTERVAL '1 week')
                GROUP BY visit_day
                ORDER BY visit_day;
            
--------------------------------
2019.11.28 13:13:58:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:13:58:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:13:58:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:13:58:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:14:01:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:14:01:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:14:20:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:14:20:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:14:21:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:14:21:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:14:24:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:14:24:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:14:25:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:14:25:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Новини';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Життя міста';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Суспільство';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Події';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Мерія';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Війна на сході';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Спорт';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Політика';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Райони';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Поліція';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Військомат';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Особистість';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Свято';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Екологія';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Економіка';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Погода';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Релігія';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Культура';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Освіта';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Наука';
--------------------------------
2019.11.28 13:15:01:
--------------------------------
SELECT count(id) as count FROM tags WHERE name='Медицина';
--------------------------------
2019.11.28 13:15:02:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/u-odnij-zi-smilyanskyh-bagatopoverhivok-ne-praczyuye-lift-video/%' OR title ='У одній зі смілянських багатоповерхівок не працює ліфт' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/u-cherkasah-vodiyi-legkovazhat-na-dorozi-ta-stvoryuyut-dtp/%' OR title ='У Черкасах водії легковажать на дорозі та створюють ДТП' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/v-odnomu-z-mikrorajoniv-cherkas-vidsutnye-vodopostachannya/%' OR title ='В одному з мікрорайонів Черкас відсутнє водопостачання' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/pislya-zastillya-zhinka-poczupyla-u-spivmeshkanczya-groshi-i-telefon/%' OR title ='Після застілля жінка поцупила у співмешканця гроші і телефон' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/cherkasy-vidmovylysya-vid-kupivli-3-h-novyh-trolejbusiv/%' OR title ='Черкаси відмовилися від купівлі 3-х нових тролейбусів' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/videokamyry-na-pishohidnyh-perehodah-prosyat-ustanovyty-cherkasczi/%' OR title ='Відеокамири на пішохідних переходах просять установити черкасці' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/dlya-vlasnogo-vzhytku-gorodyshhanyn-zberigav-udoma-narkotyky/%' OR title ='Для власного вжитку: городищанин зберігав удома наркотики' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/trening-komanda-vysokyh-dosyagnen-dlya-cherkaskyh-energetykiv-zaversheno-foto/%' OR title ='Тренінг “Команда високих досягнень” для черкаських енергетиків завершено' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/shkoly-umani-doluchylysya-do-vseukrayinskoyi-akcziyi-16-dniv-proty-nasylstva/%' OR title ='Школи Умані долучилися до Всеукраїнської акції “16 днів проти насильства”' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://dzvin.media/news/kulturni-cherkasy-sto-rokiv-tomu-v-misti-masovo-vidkryvalys-pryvatni-kinoteatry-foto/%' OR title ='Культурні Черкаси: сто років тому в місті масово відкривались приватні кінотеатри' ;
--------------------------------
2019.11.28 13:15:03:
--------------------------------
SELECT COUNT(id) as count FROM posts WHERE comment LIKE 'https://dzvin.media/news/u-odnij-zi-smilyanskyh-bagatopoverhivok-ne-praczyuye-lift-video/%' OR title = 'У одній зі смілянських багатоповерхівок не працює ліфт';
--------------------------------
2019.11.28 13:15:05:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='bf97502965e49f0c75943564ad194033';
--------------------------------
2019.11.28 13:15:05:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('0', 'bf97502965e49f0c75943564ad194033', '1', '2019-11-28_13-15-03_705.png', '2019-11-28 13:15:05', '1');
--------------------------------
2019.11.28 13:15:05:
--------------------------------
INSERT INTO posts ("title", "alt_title", "descr", "short_post", "full_post", "comment", "svector", "keywords", "posted", "fixed", "static", "category", "author_id") VALUES ('У одній зі смілянських багатоповерхівок не працює ліфт', '753f6a170ddfe79eb665a172a564104e', 'У одній зі смілянських багатоповерхівок не працює ліфт', 'Щодня пішки на 9 поверх піднімаються мешканці будинку за адресою Богдана Хмельницького, 60 у Смілі. У багатоповерхівці упродовж місяця не працює ліфт. Оголошення про те, що у підйомника збіг термін експлуатації, розмістили у під’їзді першого листопада – розповів Суспільному містянин Анатолій Бараннік. За останній тиждень двадцятидворічний Василь Олейніченко один раз виходив зі своєї квартири. У хлопця перелом ноги. Спускатися і підійматися на 9 поверх на милицях не зручно, – каже він. «Був ліфт, то спустився б, а так немає сенсу ходити тривожити ногу. Здорові люди ходять і вже їм важко, а мені просто вдвічі важко і все». У двох під’їздах багатоповерхівки вимкнули ліфт першого листопада. Підйомнику – 25 років. Анатолій Бараннік мешкає у цьому будинку 20 років. Каже, готовий заплатити з власної кишені, аби тільки ліфт запрацював. «Пропоную жителям цього під’їзду, крім 1-го і 2-го поверхів скинутися коштами, щоб проплатити фінансово-експертне обстеження і запустити ліфт». Олена Слободян мешкає у сусідньому під’їзді. Ліфт тут теж не працює. «Звісно, ходити пішки, може, й корисно для здоров’я, типу фітнес, але ж, це якщо ідеш просто, а коли тобі доводиться іти з покупками, а коли не один раз, а більше це вже важко». Кошти на капітальний ремонт цих ліфтів цьогоріч спрямували з держбюджету. Роботи розпочнуть, коли підрядна організація «Сміла-Ліфт» обрахує вартість ремонту, – розповідає заступник начальника управління житлово-комунального господарства Сміли Євген Хриптулов. «На ці два ліфти по проекту у нас закладено 330 тисяч 167 грн. Договірна ціна буде нижча, бо в кошторисну документацію закладені кошти на технічний нагляд. Якщо ми завтра укладемо договір, то плануємо до кінця бюджетного року виконати ці роботи протягом місяця до 25 грудня». Телефоном головний інженер «Сміла-ліфт» розповів скільки триватиме ремонт. «Якщо підписується договір, то по закону замовник підряднику перераховує 30% грошей, тоді замовляють запчастини. З моменту надходження запчастин, то на один під’їзд необхідно 5-7 днів, якщо працюють дві ланочки, дві бригади».', '<p class=\"bb_p\">Щодня пішки на 9 поверх піднімаються мешканці будинку за адресою Богдана Хмельницького, 60 у Смілі. У багатоповерхівці упродовж місяця не працює ліфт. Оголошення про те, що у підйомника збіг термін експлуатації, розмістили у під’їзді першого листопада – розповів Суспільному містянин Анатолій Бараннік.</p>
<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2019-11-28/2019-11-28_13-15-03_705.png" alt="" title="" /></p>
<p class=\"bb_p\">За останній тиждень двадцятидворічний Василь Олейніченко один раз виходив зі своєї квартири. У хлопця перелом ноги. Спускатися і підійматися на 9 поверх на милицях не зручно, – каже він.</p>
<p class=\"bb_p\">«Був ліфт, то спустився б, а так немає сенсу ходити тривожити ногу. Здорові люди ходять і вже їм важко, а мені просто вдвічі важко і все».</p>
<p class=\"bb_p\">У двох під’їздах багатоповерхівки вимкнули ліфт першого листопада. Підйомнику – 25 років. Анатолій Бараннік мешкає у цьому будинку 20 років. Каже, готовий заплатити з власної кишені, аби тільки ліфт запрацював.</p>
<p class=\"bb_p\">«Пропоную жителям цього під’їзду, крім 1-го і 2-го поверхів скинутися коштами, щоб проплатити фінансово-експертне обстеження і запустити ліфт».</p>
<p class=\"bb_p\">Олена Слободян мешкає у сусідньому під’їзді. Ліфт тут теж не працює.</p>
<p class=\"bb_p\">«Звісно, ходити пішки, може, й корисно для здоров’я, типу фітнес, але ж, це якщо ідеш просто, а коли тобі доводиться іти з покупками, а коли не один раз, а більше це вже важко».</p>
<p class=\"bb_p\">Кошти на капітальний ремонт цих ліфтів цьогоріч спрямували з держбюджету. Роботи розпочнуть, коли підрядна організація «Сміла-Ліфт» обрахує вартість ремонту, – розповідає заступник начальника управління житлово-комунального господарства Сміли Євген Хриптулов.</p>
<p class=\"bb_p\">«На ці два ліфти по проекту у нас закладено 330 тисяч 167 грн. Договірна ціна буде нижча, бо в кошторисну документацію закладені кошти на технічний нагляд. Якщо ми завтра укладемо договір, то плануємо до кінця бюджетного року виконати ці роботи протягом місяця до 25 грудня».</p>
<p class=\"bb_p\">Телефоном головний інженер «Сміла-ліфт» розповів скільки триватиме ремонт.</p>
<p class=\"bb_p\">«Якщо підписується договір, то по закону замовник підряднику перераховує 30% грошей, тоді замовляють запчастини. З моменту надходження запчастин, то на один під’їзд необхідно 5-7 днів, якщо працюють дві ланочки, дві бригади».</p><div class="source"><p class=\"bb_p align_right\"><a rel="nofollow noreferrer" href="https://dzvin.media/news/u-odnij-zi-smilyanskyh-bagatopoverhivok-ne-praczyuye-lift-video/" target="_blank">За матеріалами "dzvin.media"</a></p></div>', 'https://dzvin.media/news/u-odnij-zi-smilyanskyh-bagatopoverhivok-ne-praczyuye-lift-video/', '', '', '1', '0', '0', '1', '1') RETURNING id;
--------------------------------
2019.11.28 13:15:05:
--------------------------------
UPDATE images SET post_id=2628 WHERE post_id=0;
--------------------------------
2019.11.28 13:15:05:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.id = 2628 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:05:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.id = 2628 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 10;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:05:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (2628) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:05:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:05:
--------------------------------
UPDATE posts SET repost_tg=1 WHERE id='2628';
--------------------------------
2019.11.28 13:15:05:
--------------------------------
UPDATE images SET post_id=2628 WHERE md5='bf97502965e49f0c75943564ad194033' AND post_id=0;
--------------------------------
2019.11.28 13:15:06:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/visokopostavlenij-eks-prokuror-mozhe-stati-zastupnikom-golovi-oda/%' OR title ='Високопоставлений екс-прокурор може стати заступником голови ОДА' ;
--------------------------------
2019.11.28 13:15:06:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/bilshe-140-avtivok-vikrali-v-cherkasax-za-ostanni-dva-roki/%' OR title ='Більше 140 автівок викрали в Черкасах за останні два роки' ;
--------------------------------
2019.11.28 13:15:06:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/u-pivdenno-zaxidnomu-rajoni-gorila-kvartira-zaginuv-cholovik/%' OR title ='У Південно-Західному районі горіла квартира. Загинув чоловік' ;
--------------------------------
2019.11.28 13:15:06:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/u-cherkasax-zitknulisya-opel-ta-mercedes-postrazhdala-zhinka-foto/%' OR title ='У Черкасах зіткнулися “Opel” та “Mercedes”. Постраждала жінка' ;
--------------------------------
2019.11.28 13:15:06:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/tilda/dim-dlya-110-zhinok-odin-den-iz-zhittya-internatu-v-budishhi/%' OR title ='Дім для 110 жінок. Один день із життя інтернату в Будищі' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/blogs/tomagavk-blidolicogo/%' OR title ='Томагавк блідолицього' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/nizka-budinkiv-u-cherkasax-sogodni-zalishilisya-bez-vodopostachannya/%' OR title ='Низка будинків у Черкасах сьогодні залишилася без водопостачання' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/avariya-za-uchasti-11-avtivok-poterpili-drugu-dobu-v-likarni/%' OR title ='Аварія за участі 11 автівок. Потерпілі другу добу в лікарні' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/u-cherkasax-legkovik-zletiv-iz-dorogi-vodiya-gospitalizovano-foto/%' OR title ='У Черкасах легковик злетів із дороги. Водія госпіталізовано' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/na-cherkashhini-provoditimut-operaci%d1%97-z-transplantaci%d1%97-stovburovix-klitin-video/%' OR title ='На Черкащині проводитимуть операції з трансплантації стовбурових клітин' ;
--------------------------------
2019.11.28 13:15:07:
--------------------------------
SELECT COUNT(id) as count FROM posts WHERE comment LIKE 'https://18000.com.ua/strichka-novin/visokopostavlenij-eks-prokuror-mozhe-stati-zastupnikom-golovi-oda/%' OR title = 'Високопоставлений екс-прокурор може стати заступником голови ОДА';
--------------------------------
2019.11.28 13:15:09:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='b2248aa8cdaf7d9cc27a43f7e26dc306';
--------------------------------
2019.11.28 13:15:09:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('0', 'b2248aa8cdaf7d9cc27a43f7e26dc306', '1', '2019-11-28_13-15-07_183.png', '2019-11-28 13:15:09', '1');
--------------------------------
2019.11.28 13:15:09:
--------------------------------
INSERT INTO posts ("title", "alt_title", "descr", "short_post", "full_post", "comment", "svector", "keywords", "posted", "fixed", "static", "category", "author_id") VALUES ('Високопоставлений екс-прокурор може стати заступником голови ОДА', '1bc0e4eda73c9f505682582ea14c42e3', 'Високопоставлений екс-прокурор може стати заступником голови ОДА', 'Юрій Безщасний претендує на посаду заступника голови Черкаської облдержадміністрації. Його декларація уже розміщена на сайті НАЗК. Раніше Безщасний працював заступником начальника слідчого управління спеціальних розслідувань Генеральної прокуратури України. Саме це управління займалося справами злочинів на Майдані та режиму Януковича. У декларації він вказує орендовану квартиру 34,7 кв. м у Києві, а також HONDA ACCORD 2008 року випуску. У готівці претендент на посаду зберігає 34 тис. доларів, 850 євро та 65 тис. грн. Нагадаємо, раніше голова Черкаської ОДА Роман Боднар уже розповідав журналістам про майбутнього заступника, але його імені не назвав, лише зазначивши, що той має досвід роботи у правоохоронних органах. Зазначимо, що на сьогодні у голови Черкаської ОДА лишаються заступники, призначені ще за його попередника: Віктор Карпенко та Борис Лебедцов. Окрім того, Боднар розповів, що посаду може отримати Віталій Коваль, що свого часу був першим заступником Юрія Ткаченка. Не пропустіть найважливішого - отримуєте push-сповіщення від команди %SITENAME%', '<p class=\"bb_p\"><b class=\"bb_b\">Юрій Безщасний претендує на посаду заступника голови Черкаської облдержадміністрації.</b></p>
<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2019-11-28/2019-11-28_13-15-07_183.png" alt="" title="" /></p>
<p class=\"bb_p\">Його декларація уже розміщена на сайті НАЗК.</p>
<p class=\"bb_p\">Раніше Безщасний працював заступником начальника слідчого управління спеціальних розслідувань Генеральної прокуратури України. Саме це управління займалося справами злочинів на Майдані та режиму Януковича.</p>
<p class=\"bb_p\">У декларації він вказує орендовану квартиру 34,7 кв. м у Києві, а також HONDA ACCORD 2008 року випуску.</p>
<p class=\"bb_p\">У готівці претендент на посаду зберігає 34 тис. доларів, 850 євро та 65 тис. грн.</p>
<p class=\"bb_p\">Нагадаємо, раніше голова Черкаської ОДА Роман Боднар уже розповідав журналістам про майбутнього заступника, але його імені не назвав, лише зазначивши, що той має досвід роботи у правоохоронних органах.</p>
<p class=\"bb_p\">Зазначимо, що на сьогодні у голови Черкаської ОДА лишаються заступники, призначені ще за його попередника: Віктор Карпенко та Борис Лебедцов.</p>
<p class=\"bb_p\">Окрім того, Боднар розповів, що посаду може отримати Віталій Коваль, що свого часу був першим заступником Юрія Ткаченка.</p>
<p class=\"bb_p\">Не пропустіть найважливішого - отримуєте push-сповіщення від команди %SITENAME%</p><div class="source"><p class=\"bb_p align_right\"><a rel="nofollow noreferrer" href="https://18000.com.ua/strichka-novin/visokopostavlenij-eks-prokuror-mozhe-stati-zastupnikom-golovi-oda/" target="_blank">За матеріалами "18000.com.ua"</a></p></div>', 'https://18000.com.ua/strichka-novin/visokopostavlenij-eks-prokuror-mozhe-stati-zastupnikom-golovi-oda/
Важливо|Стрічка новин|Роман Боднар|Юрій Безщасний', '', 'Роман Боднар', '1', '0', '0', '1', '1') RETURNING id;
--------------------------------
2019.11.28 13:15:09:
--------------------------------
UPDATE images SET post_id=2629 WHERE post_id=0;
--------------------------------
2019.11.28 13:15:09:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.id = 2629 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:09:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.id = 2629 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 10;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:09:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (2629) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:10:
--------------------------------
UPDATE posts SET repost_tg=1 WHERE id='2629';
--------------------------------
2019.11.28 13:15:10:
--------------------------------
SELECT id FROM tags WHERE name = 'Новини';
--------------------------------
2019.11.28 13:15:10:
--------------------------------
BEGIN;
DELETE FROM posts_tags WHERE post_id = '2629'::INTEGER AND tag_id = '5'::INTEGER;
INSERT INTO posts_tags ( post_id, tag_id ) VALUES ('2629'::INTEGER, '5'::INTEGER );
COMMIT;
--------------------------------
2019.11.28 13:15:10:
--------------------------------
UPDATE images SET post_id=2629 WHERE md5='b2248aa8cdaf7d9cc27a43f7e26dc306' AND post_id=0;
--------------------------------
2019.11.28 13:15:10:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/28/novi-vikna-u-kk-kosmos/%' OR title ='Нові вікна у КК «Космос»' ;
--------------------------------
2019.11.28 13:15:11:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/26/startuvala-vsesvitnia-aktsiia-16-dniv-proty-nasylstva/%' OR title ='Стартувала Всесвітня акція “16 днів проти насильства”' ;
--------------------------------
2019.11.28 13:15:11:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/25/tantsiurysty-barvinku-iak-zavzhdy-sered-pershykh/%' OR title ='Танцюристи «Барвінку» як завжди серед перших' ;
--------------------------------
2019.11.28 13:15:11:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/25/informatsiia-shchodo-naiavnosti-likarskykh-zasobiv-vytratnykh-materialiv-medychnykh-vyrobiv-ta-kharchovykh-produktiv-dlia-spetsialnoho-diietychnoho-spozhyvannia-otrymanykh-za-koshty-derzhavnoho-ta-30/%' OR title ='Інформація щодо наявності лікарських засобів, витратних матеріалів, медичних виробів та харчових продуктів для спеціального дієтичного споживання, отриманих за кошти державного та місцевого бюджетів, благодійної діяльності і гуманітарної допомоги' ;
--------------------------------
2019.11.28 13:15:11:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/25/uvaha-shpolianskyj-rem-pat-cherkasyoblenerho-poperedzhaie-pro-vidkliuchennia-elektroenerhii/%' OR title ='Увага! Шполянський РЕМ ПАТ «Черкасиобленерго» попереджає про відключення електроенергії!' ;
--------------------------------
2019.11.28 13:15:11:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/25/rishennia-vykonavchoho-komitetu-vid-20-11-2019/%' OR title ='Рішення виконавчого комітету від 20.11.2019' ;
--------------------------------
2019.11.28 13:15:12:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/23/pam-iat-po-holodomor-ne-zhasne/%' OR title ='Пам’ять по Голодомор не згасне…' ;
--------------------------------
2019.11.28 13:15:12:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/22/uvaha-vidbulysia-zminy-u-sferi-derzhavnoi-reiestratsii-prav-ta-reiestratsii-biznesu/%' OR title ='Увага! Відбулися зміни у сфері державної реєстрації прав та реєстрації бізнесу' ;
--------------------------------
2019.11.28 13:15:12:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/21/iz-zasidannia-vykonavchoho-komitetu/%' OR title ='Із засідання виконавчого комітету' ;
--------------------------------
2019.11.28 13:15:13:
--------------------------------
SELECT count(id) FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/21/den-hidnosti-ta-svobody-vidznachyly-u-shpolianskij-hromadi/%' OR title ='День Гідності та Свободи відзначили у Шполянській громаді' ;
--------------------------------
2019.11.28 13:15:13:
--------------------------------
SELECT COUNT(id) as count FROM posts WHERE comment LIKE 'http://shpola-otg.gov.ua/2019/11/28/novi-vikna-u-kk-kosmos/%' OR title = 'Нові вікна у КК «Космос»';
--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 10;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:15:20:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 6 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 10 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 1;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 15 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 11 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 10 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 1;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 AND
	ptags.tag_id IN( 3,13 ) 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 0 LIMIT 2;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 


-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:20:
--------------------------------
SELECT 
-- SELECT 
	DISTINCT posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	posts.full_post as "post.full_post", 
	posts.repost_tg as "post.repost_tg", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.created_time <= ( NOW() + interval '1 year' ) AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.created_time DESC, posts.fixed DESC, posts.posted ASC 
-- ORDER
-- OFFSET
OFFSET 90 LIMIT 12;
-- OFFSET
-- %QUERY_CACHABLE
-- USER_ID: 0


--------------------------------
2019.11.28 13:15:21:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:15:21:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
2019.11.28 13:15:22:
--------------------------------
INSERT INTO visit_counter ( ua_hash, ip, browser ) VALUES ( '993dec305c07562b468ae0c45f23e343', '78.137.5.26'::inet, 'Firefox' );
--------------------------------
2019.11.28 13:15:22:
--------------------------------

                SELECT
                    tags.id,
                    tags.name,
                    tags.altname,
                    (SELECT count(posts_tags.post_id) FROM posts_tags WHERE posts_tags.tag_id = tags.id ) as news_count
                FROM
                    tags WHERE id > 0 ORDER BY name; -- %QUERY_CACHABLE
--------------------------------
